<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
<![endif]--><!--[if IE 8]>
<html class="ie ie8" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
<![endif]--><!--[if !(IE 7) & !(IE 8)]><!--><html lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
<!--<![endif]-->
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>The Accept Header: A Quick Primer</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<!--[if lt IE 9]>
<script src="https://apiux.com/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<meta name="robots" content="max-image-preview:large">

<!-- SEO Ultimate (http://www.seodesignsolutions.com/wordpress-seo/) -->
	<link rel="canonical" href="/2013/06/11/accept-header-quick-primer/">
	<meta name="description" content="Why should you use the Accept header? So many APIs can simply get by with a string comparison against &quot;application/json&quot; or &quot;application/xml&quot;, why is it important?">
	<meta name="keywords" content="Accept,API,APIUX,header,HTTP,JSON,RFC 2616,XML,quality,respond,apis,ux,rest,developer,oauth">
	<meta property="og:type" content="article">
	<meta property="og:title" content="The Accept Header: A Quick Primer">
	<meta property="og:description" content="Why should you use the Accept header? So many APIs can simply get by with a string comparison against &quot;application/json&quot; or &quot;application/xml&quot;, why is it important?">
	<meta property="og:url" content="/2013/06/11/accept-header-quick-primer/">
	<meta property="og:image" content="http://farm3.staticflickr.com/2033/3527622458_893365322c.jpg">
	<meta property="article:published_time" content="2013-06-11">
	<meta property="article:modified_time" content="2013-06-11">
	<meta property="article:author" content="/author/urthen/">
	<meta property="article:section" content="Opinion">
	<meta property="article:tag" content="Accept">
	<meta property="article:tag" content="API">
	<meta property="article:tag" content="APIUX">
	<meta property="article:tag" content="header">
	<meta property="article:tag" content="HTTP">
	<meta property="article:tag" content="JSON">
	<meta property="article:tag" content="RFC 2616">
	<meta property="article:tag" content="XML">
	<meta property="og:site_name" content="API UX">
	<meta name="twitter:card" content="summary">
<!-- /SEO Ultimate -->

<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="API UX &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="API UX &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="API UX &raquo; The Accept Header: A Quick Primer Comments Feed" href="/2013/06/11/accept-header-quick-primer/feed/">
		<!-- This site uses the Google Analytics by MonsterInsights plugin v7.16.2 - Using Analytics tracking - https://www.monsterinsights.com/ -->
		<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
					<!-- No UA code set -->
				<!-- / Google Analytics by MonsterInsights -->
				<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"httpsapiux.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.2" type="text/css" media="all">
<link rel="stylesheet" id="myStyleSheets-css" href="/wp-content/plugins/author-hreview/style/style.css?ver=5.8.2" type="text/css" media="all">
<link rel="stylesheet" id="tm_clicktotweet-css" href="/wp-content/plugins/click-to-tweet-by-todaymade/assets/css/styles.css?ver=5.8.2" type="text/css" media="all">
<link rel="stylesheet" id="monsterinsights-popular-posts-style-css" href="/wp-content/plugins/google-analytics-for-wordpress/assets/css/frontend.min.css?ver=7.16.2" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-fonts-css" href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-style-css" href="/wp-content/themes/twentytwelve/style.css?ver=5.8.2" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='https://apiux.com/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="wpoa-style-css" href="/wp-content/plugins/wp-oauth/wp-oauth.css?ver=5.8.2" type="text/css" media="all">
<link rel="stylesheet" id="authorsure-css" href="/wp-content/plugins/authorsure/styles/public.css?ver=2.3" type="text/css" media="all">
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.6.0" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script>
<script type="text/javascript" id="wpoa-cvars-js-extra">
/* <![CDATA[ */
var wpoa_cvars = {"ajaxurl":"httpsapiux.com\/wp-admin\/admin-ajax.php","template_directory":"httpsapiux.com\/wp-content\/themes\/twentytwelve","stylesheet_directory":"httpsapiux.com\/wp-content\/themes\/twentytwelve","plugins_url":"httpsapiux.com\/wp-content\/plugins","plugin_dir_url":"httpsapiux.com\/wp-content\/plugins\/wp-oauth\/","url":"httpsapiux.com","logout_url":"httpsapiux.com\/wp-login.php?action=logout&_wpnonce=d6c7430e3b","show_login_messages":"","logout_inactive_users":"0","logged_in":""};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/plugins/wp-oauth/cvars.js?ver=5.8.2" id="wpoa-cvars-js"></script>
<script type="text/javascript" src="/wp-content/plugins/wp-oauth/wp-oauth.js?ver=5.8.2" id="wpoa-script-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/480">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.8.2">
<link rel="shortlink" href="/?p=480">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2013%2F06%2F11%2Faccept-header-quick-primer%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2013%2F06%2F11%2Faccept-header-quick-primer%2F&#038;format=xml">
<script type="text/javascript">window._wp_rp_static_base_url = 'https://rp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "httpsapiux.com/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.5.2';
	window._wp_rp_post_id = '480';
	window._wp_rp_num_rel_posts = '3';
	window._wp_rp_thumbnails = true;
	window._wp_rp_post_title = 'The+Accept+Header%3A+A+Quick+Primer';
	window._wp_rp_post_tags = ['http', 'rfc+2616', 'api', 'header', 'json', 'accept', 'xml', 'apiux', 'opinion', 'sean', 'data', 'standard', 'primer', 'json', 'servic', 'ux', 'a', 'case', 'alt', 'api', 'content', 'color', 'develop', 'photo'];</script>
<link rel="stylesheet" href="/wp-content/plugins/related-posts/static/themes/vertical-m.css?version=3.5.2">
	<style type="text/css" id="twentytwelve-header-css">.site-header h1 a,
		.site-header h2 {
			color: #444;
		}</style>
	<style type="text/css" id="custom-background-css">body.custom-background { background-image: url("/wp-content/uploads/2013/05/45degreee_fabric.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: fixed; }</style>
	</head>

<body class="post-template-default single single-post postid-480 single-format-standard custom-background custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="/" title="API UX" rel="home">API UX</a></h1>
			<h2 class="site-description">Everything about API User Experience</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle">Menu</button>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="menu-top-menu-container"><ul id="menu-top-menu" class="nav-menu">
<li id="menu-item-411" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-411"><a href="/">Home</a></li>
<li id="menu-item-412" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-412"><a href="/about/">About</a></li>
<li id="menu-item-410" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-410"><a href="/conferences/">Conferences</a></li>
<li id="menu-item-413" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413"><a href="/contact/">Contact</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-480" class="post-480 post type-post status-publish format-standard hentry category-opinion tag-accept tag-api tag-apiux tag-header tag-http tag-json tag-rfc-2616 tag-xml">
				<header class="entry-header">
			
						<h1 class="entry-title">The Accept Header: A Quick Primer</h1>
										<div class="comments-link">
					<a href="/2013/06/11/accept-header-quick-primer/#comments">5 Replies</a>				</div>
<!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>When developing an API, one of the first critical decisions every developer must face is that of Content Type. In this day and age most APIs return one or both of JSON or XML.</p>
<div style="width: 510px" class="wp-caption aligncenter">
<a href="http://www.flickr.com/photos/22280677@N07/3527622458/" target="_blank"><img loading="lazy" style="border: 0px;" title="photo by Sean Svadilfari" alt="" src="http://farm3.staticflickr.com/2033/3527622458_893365322c.jpg" width="500" height="397"></a><p class="wp-caption-text">photo by Sean Svadilfari</p>
</div>
<p>Some APIs get away with one, and that&#8217;s fine, but to improve the UX of your API, you should allow the requestor to determine what data type is best for them. If you&#8217;ve read the post on <a title="Implementing API Content Negotiation" href="/2013/05/07/api-content-negotiation/">API Content Negotiation</a>, you&#8217;ll know the best way to approach content negotiation is to follow the standards.</p>
<p><span id="more-480"></span></p>
<p>However, as is the case with many standards, it can be difficult to read the <a style="line-height: 1.714285714; font-size: 1rem;" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">Header Definitions standard</a><span style="line-height: 1.714285714; color: #444444; font-size: 1rem;">. It&#8217;s easy to understand the difference between &#8220;Accept: application/json;&#8221; and &#8220;Accept: application/xml;&#8221; &#8211; But are you sure your service will respond correctly if to a request specifying &#8220;Accept: application/xml;q=0.5, application/json&#8221;? It&#8217;s a perfectly valid request, and should be handled properly.</span></p>
<h2>Parsing the Accept Header</h2>
<p>While the spec can be quite daunting to read through, fortunately the actual parsing is fairly straightforward and intuitive. The key to understanding the how the Accept header specifies which content-type is actually desired boils down to three points, in order of how they should be looked at while parsing:</p>
<ul>
<li><span style="line-height: 14px;">Specificity</span></li>
<li>Quality (q-param)</li>
<li>Order</li>
</ul>
<p>Specificity indicates that if a server can supply either of two given formats in an Accept header, it will supply the more specific one. This will take into account parameters (other than the special q-param) as well &#8211; rarely used, but valid; for example &#8220;text/html;level=1&#8221; may mean something to a server. If a server were asked to respond to &#8220;text/*, text/html, text/html;level=1&#8221;, it would respond with level 1 HTML first if possible, then any other HTML, then any textual information.</p>
<p>Quality, or the q-param, is a special parameter that can indicate a preferential order determined by a quality scaling parameter. In theory, the quality parameter could be used with some sort of quality determination of the available content types. If the application could only serve up a 50% quality audio/mp4 file but a 100% quality ogg file, and the Accept header specified that it wanted audio/mp4 at a 1.0 scale but ogg at 0.9 scale (&#8220;Accept: audio/mp4, audio/ogg;q=0.9&#8221;), the ogg file would be served as its scaled quality (90%) beats the inferior mp4 scaled quality (still 50%). In practice, however, the q-param is more often simply used to override the order as few services actually measure the quality of various content types.</p>
<p>Order, finally, is the most common scheme for determining what content-type the requestor desires. The given two accept types with the same specificity and scaled quality factor, the server should send the first type as the response.</p>
<h2>Utilizing the Accept Header</h2>
<p>Why should you use the Accept header? So many APIs can simply get by with a string comparison against &#8220;application/json&#8221; or &#8220;application/xml&#8221;, why is it important?</p>
<p>In a trivial example, an API is simply an agreement between the provider and users that when a certain type of request comes in, the API will respond a certain way. However, some otherwise valid requests &#8211; for example, &#8220;complicated&#8221; Accept headers &#8211; may be rejected, or worse, respond in a poorly defined manner if you stray outside the agreement. Determining and defining every possible accept header can become burdensome if you&#8217;re serving up multiple media types.</p>
<p>When you agree to follow the standards, a lot of the heavy lifting is done for you. One of the keys to a beautiful user experience is to behave in an intuitive manner rather than assume the user knows your rules. So next time you&#8217;re working on an API, remember the Accept header!</p>
<p><em>If you enjoy this article please upvote it on <a title="The Accept Header: A Quick Primer" href="https://news.ycombinator.com/item?id=5862657" target="_blank">Hacker News</a> and <a title="The Accept Header: A Quick Primer" href="http://www.reddit.com/r/webdev/comments/1g4mos/the_accept_header_a_quick_primer/" target="_blank">reddit</a>.</em></p>

<div class="wp_rp_wrap  wp_rp_vertical_m" id="wp_rp_first"><div class="wp_rp_content">
<h3 class="related_post_title">Related Posts</h3>
<ul class="related_post wp_rp">
<li data-position="0" data-poid="in-348" data-post-type="none">
<a href="/2013/05/07/api-content-negotiation/" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2013/05/4658982704_1cd132f6822-150x150.jpg" alt="Implementing API Content Negotiation" width="150" height="150"></a><a href="/2013/05/07/api-content-negotiation/" class="wp_rp_title">Implementing API Content Negotiation</a>
</li>
<li data-position="1" data-poid="in-171" data-post-type="none">
<a href="/2013/03/28/2-steps-api-error-codes/" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2013/03/3356951969_df2c4186ac-150x150.jpg" alt="2 steps to better API Error Codes" width="150" height="150"></a><a href="/2013/03/28/2-steps-api-error-codes/" class="wp_rp_title">2 steps to better API Error Codes</a>
</li>
<li data-position="2" data-poid="in-264" data-post-type="none">
<a href="/2013/04/09/rest-metadata-formats/" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2013/04/3554628032_97be3b33191-150x150.jpg" alt="An Overview of REST Metadata Formats" width="150" height="150"></a><a href="/2013/04/09/rest-metadata-formats/" class="wp_rp_title">An Overview of REST Metadata Formats</a>
</li>
</ul>
</div></div>
<p id="authorsure-last-updated" class="updated left" itemscope="itemscope" itemtype="http://schema.org/WebPage" itemid="https://apiux.com/2013/06/11/accept-header-quick-primer/">Last updated by <span style="float:none" class="author vcard"><span class="fn"><a rel="author" href="/author/urthen/" class="authorsure-author-link">Michael Pratt</a></span></span> at <time itemprop="dateModified" datetime="2013-06-11T18:14:27+02:00">June 11, 2013</time>.</p>					</div>
<!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="/opinion/" rel="category tag">Opinion</a> and tagged <a href="/tag/accept/" rel="tag">Accept</a>, <a href="/tag/api/" rel="tag">API</a>, <a href="/tag/apiux/" rel="tag">APIUX</a>, <a href="/tag/header/" rel="tag">header</a>, <a href="/tag/http/" rel="tag">HTTP</a>, <a href="/tag/json/" rel="tag">JSON</a>, <a href="/tag/rfc-2616/" rel="tag">RFC 2616</a>, <a href="/tag/xml/" rel="tag">XML</a> on <a href="/2013/06/11/accept-header-quick-primer/" title="6:00 pm" rel="bookmark"><time class="entry-date" datetime="2013-06-11T18:00:44+02:00">June 11, 2013</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="/author/urthen/" title="View all posts by Michael Pratt" rel="author">Michael Pratt</a></span></span>.										<div class="author-info">
					<div class="author-avatar">
						<img alt="" src="https://secure.gravatar.com/avatar/1efe801c3334f694e83e4db2ae1640cd?s=68&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/1efe801c3334f694e83e4db2ae1640cd?s=136&#038;d=mm&#038;r=g 2x" class="avatar avatar-68 photo" height="68" width="68" loading="lazy">					</div>
<!-- .author-avatar -->
					<div class="author-description">
						<h2>About Michael Pratt</h2>
						<p>Michael Pratt is a Developer Evangelist and Platform Engineer at <a href="http://www.bazaarvoice.com/">Bazaarvoice</a> in Austin, Texas. By day he works with colleagues developing API platforms, and by night he promotes standards-based APIs.</p>
						<div class="author-link">
							<a href="/author/urthen/" rel="author">
								View all posts by Michael Pratt <span class="meta-nav">&rarr;</span>							</a>
						</div>
<!-- .author-link	-->
					</div>
<!-- .author-description -->
				</div>
<!-- .author-info -->
					</footer><!-- .entry-meta -->
	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="/2013/06/05/api-strategy-practice/" rel="prev"><span class="meta-nav">&larr;</span> API Strategy &#038; Practice</a></span>
					<span class="nav-next"><a href="/2013/06/24/apidays-san-francisco/" rel="next">APIDays San Francisco <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			5 thoughts on &ldquo;<span>The Accept Header: A Quick Primer</span>&rdquo;		</h2>

		<ol class="commentlist">
				<li class="comment even thread-even depth-1" id="li-comment-190">
		<article id="comment-190" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/970476b5ae7d342eb53974b4cf5c8ff8?s=44&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/970476b5ae7d342eb53974b4cf5c8ff8?s=88&#038;d=mm&#038;r=g 2x" class="avatar avatar-44 photo" height="44" width="44" loading="lazy"><cite><b class="fn"><a href="https://www.twilio.com/" rel="external nofollow ugc" class="url">Brett Gerry</a></b> </cite><a href="/2013/06/11/accept-header-quick-primer/#comment-190"><time datetime="2013-06-11T19:30:06+02:00">June 11, 2013 at 7:30 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Bruno mentions the importance of providing a reasonable default in his content negotiation post, <a href="/2013/05/07/api-content-negotiation/" rel="nofollow ugc">http://apiux.com/2013/05/07/api-content-negotiation/</a>, which I think is important. What are your thoughts on &#8220;bending&#8221; RFC spec recommendations and responding with a default representation when an accept header is present, but you cannot respond with on of the appropriate representations? </p>
<p>For example, if for whatever reason the request contains application/hal+json or text/html and you support only application/json and application/xml.  From the RFC spec: &#8220;If an Accept header field is present, and if the server cannot send a response which is acceptable according to the combined Accept field value, then the server SHOULD send a 406 (not acceptable) response.&#8221;</p>
<p>Given that many APIs are used by developers that can be very new to the API world, they may not be using accept headers properly or understand them. For that reason a good strategy may be to parse and honor the header as best as you can (per most of this post), but have that fallback that returns content rather than a 406. In other words, be liberal with the SHOULD in the RFC spec if you it makes life easier for the less skilled developer, while still serving the developer that is embracing the accept header.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="/2013/06/11/accept-header-quick-primer/?replytocom=190#respond" data-commentid="190" data-postid="480" data-belowelement="comment-190" data-respondelement="respond" data-replyto="Reply to Brett Gerry" aria-label="Reply to Brett Gerry">Reply</a> <span>&darr;</span>			</div>
<!-- .reply -->
		</article><!-- #comment-## -->
	</li>
<!-- #comment-## -->
	<li class="comment byuser comment-author-urthen bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-191">
		<article id="comment-191" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1efe801c3334f694e83e4db2ae1640cd?s=44&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/1efe801c3334f694e83e4db2ae1640cd?s=88&#038;d=mm&#038;r=g 2x" class="avatar avatar-44 photo" height="44" width="44" loading="lazy"><cite><b class="fn"><a href="http://urthen.github.io/" rel="external nofollow ugc" class="url">Michael Pratt</a></b> <span>Post author</span></cite><a href="/2013/06/11/accept-header-quick-primer/#comment-191"><time datetime="2013-06-11T20:50:28+02:00">June 11, 2013 at 8:50 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>I definitely agree that in the absence of an Accept header, a default content type should be determined by the server and sent &#8211; after all, technically the requestor said they accept anything.</p>
<p>However, I&#8217;d be wary of sending a 200 response with a different content type if I specified something in the Accept header your service cannot provide. While it may help an inexperienced developer get ANY response back from your service, it doesn&#8217;t really help them submit the correct request unless you have some sort of &#8220;notes&#8221; field stating &#8220;We couldn&#8217;t supply any of your specified content types, here is our default.&#8221; I&#8217;d rather see a 406 response with an appropriate human-readable message. Teach a man to fish, and all that.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="/2013/06/11/accept-header-quick-primer/?replytocom=191#respond" data-commentid="191" data-postid="480" data-belowelement="comment-191" data-respondelement="respond" data-replyto="Reply to Michael Pratt" aria-label="Reply to Michael Pratt">Reply</a> <span>&darr;</span>			</div>
<!-- .reply -->
		</article><!-- #comment-## -->
	</li>
<!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-192">
		<article id="comment-192" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/ff743b4cba28cc47ad65cb90212c1e51?s=44&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/ff743b4cba28cc47ad65cb90212c1e51?s=88&#038;d=mm&#038;r=g 2x" class="avatar avatar-44 photo" height="44" width="44" loading="lazy"><cite><b class="fn"><a href="http://twitter.com/izuzak" rel="external nofollow ugc" class="url">Ivan Zuzak</a></b> </cite><a href="/2013/06/11/accept-header-quick-primer/#comment-192"><time datetime="2013-06-12T10:00:33+02:00">June 12, 2013 at 10:00 am</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Cool post! Just wanted to mention a very useful project I use often for parsing Accept headers and matching them to a set of mime types: mimeparse (<a href="https://code.google.com/p/mimeparse/" rel="nofollow ugc">https://code.google.com/p/mimeparse/</a>). It offers libraries for most popular languages.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="/2013/06/11/accept-header-quick-primer/?replytocom=192#respond" data-commentid="192" data-postid="480" data-belowelement="comment-192" data-respondelement="respond" data-replyto="Reply to Ivan Zuzak" aria-label="Reply to Ivan Zuzak">Reply</a> <span>&darr;</span>			</div>
<!-- .reply -->
		</article><!-- #comment-## -->
	</li>
<!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-194">
		<article id="comment-194" class="comment">
			<header class="comment-meta comment-author vcard">
				<img alt="" src="https://secure.gravatar.com/avatar/1efe801c3334f694e83e4db2ae1640cd?s=44&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/1efe801c3334f694e83e4db2ae1640cd?s=88&#038;d=mm&#038;r=g 2x" class="avatar avatar-44 photo" height="44" width="44" loading="lazy"><cite><b class="fn">Michael Pratt</b> </cite><a href="/2013/06/11/accept-header-quick-primer/#comment-194"><time datetime="2013-06-12T22:04:40+02:00">June 12, 2013 at 10:04 pm</time></a>			</header><!-- .comment-meta -->

			
			<section class="comment-content comment">
				<p>Thanks for sharing! That does look like a promising library. If only more API frameworks adopted it, we&#8217;d be in much better position in terms of introducing new developers to compliant APIs. A big reason not many people properly parse the accept header is it&#8217;s so darn obscure.</p>
							</section><!-- .comment-content -->

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="/2013/06/11/accept-header-quick-primer/?replytocom=194#respond" data-commentid="194" data-postid="480" data-belowelement="comment-194" data-respondelement="respond" data-replyto="Reply to Michael Pratt" aria-label="Reply to Michael Pratt">Reply</a> <span>&darr;</span>			</div>
<!-- .reply -->
		</article><!-- #comment-## -->
	</li>
<!-- #comment-## -->
	<li class="pingback even thread-even depth-1" id="comment-199">
		<p>Pingback: <a href="http://www.scoop.it/t/4-nodejs/p/4003483183/the-accept-header-a-quick-primer" rel="external nofollow ugc" class="url">The Accept Header: A Quick Primer | nodeJS and ...</a> </p>
	</li>
<!-- #comment-## -->
		</ol>
<!-- .commentlist -->

		
		
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2013/06/11/accept-header-quick-primer/#respond" style="display:none;">Cancel reply</a></small>
</h3>
<form action="https://apiux.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>
<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p>
<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="480" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="b43f0981a9"></p>
<input type="hidden" id="ak_js" name="ak_js" value="164"><textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100" style="display: none !important;"></textarea>
</form>	</div>
<!-- #respond -->
	
</div>
<!-- #comments .comments-area -->
			
		</div>
<!-- #content -->
	</div>
<!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="https://apiux.com/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></aside>		</div>
<!-- #secondary -->
		</div>
<!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
						<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div>
<!-- .site-info -->
	</footer><!-- #colophon -->
</div>
<!-- #page -->

<div id="su-footer-links" style="text-align: center;"></div>
<div id="wpoa-result"></div>
<script type="text/javascript" src="/wp-includes/js/comment-reply.min.js?ver=5.8.2" id="comment-reply-js"></script>
<script type="text/javascript" src="/wp-content/themes/twentytwelve/js/navigation.js?ver=20140711" id="twentytwelve-navigation-js"></script>
<script type="text/javascript" src="/wp-includes/js/wp-embed.min.js?ver=5.8.2" id="wp-embed-js"></script>
<script async="async" type="text/javascript" src="/wp-content/plugins/akismet/_inc/form.js?ver=4.1.9" id="akismet-form-js"></script>
</body>

<!-- Dynamic page generated in 0.870 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2021-12-29 01:35:47 -->

<!-- Compression = gzip -->
</html>